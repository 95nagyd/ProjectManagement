
<div *ngIf="isPreview || isEditing"
     (clickOutside)="isEditing && !isEditFromIcon ? hide() : ''"
     (mouseenter)="SetPreviewInFocus(true);"
     (mouseleave)="SetPreviewInFocus(false);"
     #commentbox
     class="comment-box-container"
     [ngStyle]="{'left':  boxPosition.x + 'px', 'top': boxPosition.y + 'px'}" >
    <div class="comment-box">
        <div class="comment-box-content">
            <h5 class="comment-box-header">Megjegyzés</h5>
            <div class="comment-container">
                <textarea   [hidden]="isPreview"
                            #textarea
                            class="comment"
                            (keydown)="autosize();"
                            (keyup)="autosize();"
                            (blur)="autosize();"
                            [value]=value></textarea>
                <div [hidden]="!isPreview"
                     class="comment preview"
                     (click)="switchToEdit();">{{value}}</div>
            </div>
            <div class="text-right">
                <button *ngIf="!isPreview" 
                        class="btn btn-secondary btn-sm comment-close-button" 
                        (click)="hide();" >
                        Bezárás
                </button>
            </div>
        </div>
        <div style="width: 0px;
                    height: 0px;
                    border-style: solid;
                    border-width: 14px 0 14px 14px;
                    border-color: transparent transparent transparent  rgb(241, 241, 241);
                    position:absolute;
                    margin-top: 3px;
                    left: calc(100% - 6px);
                    z-index: 2">
        </div>
        <div style="width: 0px;
                    height: 0px;
                    border-style: solid;
                    border-width: 15px 0 15px 15px;
                    border-color: transparent transparent transparent  rgb(73, 73, 73);;
                    position:absolute;
                    margin-top: 2px;
                    left:calc(100% - 6px);
                    z-index: 1">
        </div>
    </div>
</div>

